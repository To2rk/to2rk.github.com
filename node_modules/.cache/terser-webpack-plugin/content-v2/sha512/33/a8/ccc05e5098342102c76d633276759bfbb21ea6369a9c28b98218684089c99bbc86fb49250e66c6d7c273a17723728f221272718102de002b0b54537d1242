{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{449:function(s,e,a){\"use strict\";a.r(e);var t=a(3),n=Object(t.a)({},(function(){var s=this,e=s._self._c;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[e(\"h2\",{attrs:{id:\"问题出现\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题出现\"}},[s._v(\"#\")]),s._v(\" 问题出现\")]),s._v(\" \"),e(\"p\",[s._v(\"安装完成docker之后，一直无法启动，如下所示\")]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"┌──(sakura㉿Sakura)-[/mnt/c/Users/Torrk]\\n└─$ sudo service docker start\\nStarting Docker: docker.\\n┌──(sakura㉿Sakura)-[/mnt/c/Users/Torrk]\\n└─$ sudo service docker status\\nDocker is not running ... failed!\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),e(\"br\")])]),e(\"p\",[s._v(\"运行 \"),e(\"code\",[s._v(\"dockerd\")]),s._v(\" 命令时，会出现如下所示错误\")]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v('…………\\n…………\\ntarget     prot opt source               destination`, error: exit status 4\\nINFO[2020-12-14T15:29:32.492519400+08:00] stopping event stream following graceful shutdown  error=\"<nil>\" module=libcontainerd namespace=moby\\nINFO[2020-12-14T15:29:32.492791800+08:00] stopping event stream following graceful shutdown  error=\"context canceled\" module=libcontainerd namespace=plugins.moby\\nINFO[2020-12-14T15:29:32.492812600+08:00] stopping healthcheck following graceful shutdown  module=libcontainerd\\nfailed to start daemon: Error initializing network controller: error obtaining controller instance: failed to create NAT chain DOCKER: iptables failed: iptables --wait -t nat -N DOCKER: iptables v1.8.6 (nf_tables):  CHAIN_ADD failed (No such file or directory): chain PREROUTING\\n (exit status 4)\\nWARN[2020-12-14T15:29:33.493689900+08:00] grpc: addrConn.createTransport failed to connect to {unix:///var/run/docker/containerd/containerd.sock  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial unix:///var/run/docker/containerd/containerd.sock: timeout\". Reconnecting...  module=grpc\\n')])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),e(\"br\")])]),e(\"p\",[s._v(\"在运行以下命令时，docker又可以正常运行\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"!\")]),s._v(\"dockerd --iptables\"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"false\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"h2\",{attrs:{id:\"解决方法\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#解决方法\"}},[s._v(\"#\")]),s._v(\" 解决方法\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" update-alternatives --set iptables /usr/sbin/iptables-legacy\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" update-alternatives --set ip6tables /usr/sbin/ip6tables-legacy\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\")])]),e(\"p\",[s._v(\"然后再次尝试启动docker，查看docker状态\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"docker\")]),s._v(\" start\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"docker\")]),s._v(\" status\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\")])]),e(\"h2\",{attrs:{id:\"参考资料\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考资料\"}},[s._v(\"#\")]),s._v(\" 参考资料\")]),s._v(\" \"),e(\"ul\",[e(\"li\",[s._v(\"Failing to start dockerd: failed to create NAT chain DOCKER：\"),e(\"a\",{attrs:{href:\"https://forums.docker.com/t/failing-to-start-dockerd-failed-to-create-nat-chain-docker/78269/4\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://forums.docker.com/t/failing-to-start-dockerd-failed-to-create-nat-chain-docker/78269/4\"),e(\"OutboundLink\")],1)]),s._v(\" \"),e(\"li\",[s._v(\"Run Docker on Ubuntu on Windows Subsystem for Linux：\"),e(\"a\",{attrs:{href:\"https://stackoverflow.com/questions/48008675/run-docker-on-ubuntu-on-windows-subsystem-for-linux/64261697#64261697\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://stackoverflow.com/questions/48008675/run-docker-on-ubuntu-on-windows-subsystem-for-linux/64261697#64261697\"),e(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);","extractedComments":[]}