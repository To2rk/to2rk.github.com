{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{470:function(a,s,t){\"use strict\";t.r(s);var e=t(3),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[s(\"blockquote\",[s(\"p\",[a._v(\"系统：CentOS 7\"),s(\"br\"),a._v(\"\\nWEB环境：LNMP搭建\")])]),a._v(\" \"),s(\"h2\",{attrs:{id:\"问题一\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题一\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"问题一：\")])]),a._v(\" \"),s(\"p\",[s(\"code\",[a._v(\"PHP 的设置似乎有问题, 无法获取系统环境变量. 使用 getenv(\\\\”PATH\\\\”) 测试时仅返回空结果.\")])]),a._v(\" \"),s(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),s(\"ul\",[s(\"li\",[a._v(\"在PHP-FPM配置文件：\"),s(\"code\",[a._v(\"/usr/local/php/etc/php-fpm.conf\")]),a._v(\" 最后加上一句：\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[a._v(\"env\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[a._v(\"PATH\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" /usr/local/bin:/usr/bin:/bin:/usr/local/php/bin\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\")])]),s(\"h2\",{attrs:{id:\"问题二\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题二\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"问题二：\")])]),a._v(\" \"),s(\"p\",[s(\"code\",[a._v('未找到 PHP 的 \"fileinfo\" 模块。强烈推荐启用该模块，从而获得更好的 MIME 类型探测结果。')])]),a._v(\" \"),s(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"情况一-未安装lnmp环境\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#情况一-未安装lnmp环境\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"情况一：未安装LNMP环境\")])]),a._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"找到 \"),s(\"code\",[a._v(\"/root/lnmp1.5/include/php.sh\")]),a._v(\" 文件\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"将\"),s(\"code\",[a._v(\"php.sh\")]),a._v(\"中的 \"),s(\"code\",[a._v(\"with_fileinfo='--disable-fileinfo'\")]),a._v(\" 改为 \"),s(\"code\",[a._v(\"with_fileinfo='--enable-fileinfo'\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"再执行安装脚本\")])])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"情况二-已经安装了lnmp环境\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#情况二-已经安装了lnmp环境\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"情况二：已经安装了LNMP环境\")])]),a._v(\" \"),s(\"p\",[a._v(\"LNMP1.5以上版本\")]),a._v(\" \"),s(\"p\",[a._v(\"修改lnmp安装包目录下的 \"),s(\"code\",[a._v(\"lnmp.conf\")]),a._v(\" 文件，将\"),s(\"code\",[a._v(\"Enable_PHP_Fileinfo=’n’\")]),a._v(\" 中的n改成y保存，再执行 \"),s(\"code\",[a._v(\"./upgrade.sh php\")]),a._v(\" 升级PHP就会安装好fileinfo模块。（无论哪个版本的LNMP，建议还是使用下面这种方式，因为用这种方式把我网站都搞炸了，虽然我也不知道原因）\")]),a._v(\" \"),s(\"p\",[a._v(\"LNMP1.4及以下\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[a._v(\"解压已安装的PHP版本\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"tar\")]),a._v(\" -jxvf /root/lnmp1.5/src/php-7.0.30.tar.bz2\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\")])]),s(\"ol\",{attrs:{start:\"2\"}},[s(\"li\",[a._v(\"进入解压目录执行命令\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"cd\")]),a._v(\" /root/lnmp1.5/src/php-7.0.30/ext/fileinfo/\\n/usr/local/php/bin/phpize\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\")])]),s(\"ol\",{attrs:{start:\"3\"}},[s(\"li\",[a._v(\"编译和安装\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[a._v(\"./configure --with-php-config\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\"/usr/local/php/bin/php-config\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"make\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"&&\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"make\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"install\")]),a._v(\"\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\")])]),s(\"ol\",{attrs:{start:\"5\"}},[s(\"li\",[a._v(\"修改 \"),s(\"code\",[a._v(\"/usr/local/php/etc/\")]),a._v(\" 目录下的 \"),s(\"code\",[a._v(\"php.ini\")])])]),a._v(\" \"),s(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"vim\")]),a._v(\" /usr/local/php/etc/php.ini\\n    \\n第一行加上：\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[a._v(\"extension\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"fileinfo.so\"')]),a._v(\"\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),s(\"br\")])]),s(\"h2\",{attrs:{id:\"问题三\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题三\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"问题三：\")])]),a._v(\" \"),s(\"p\",[s(\"code\",[a._v(\"内存缓存未配置，为了提升使用体验，请尽量配置内存缓存\")])]),a._v(\" \"),s(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[a._v(\"安装\"),s(\"code\",[a._v(\"APCu\")])])]),a._v(\" \"),s(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"cd\")]),a._v(\" /root/lnmp1.5\\n./addons.sh \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"install\")]),a._v(\" apcu\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\")])]),s(\"ol\",{attrs:{start:\"2\"}},[s(\"li\",[a._v(\"安装完成后编辑 \"),s(\"code\",[a._v(\"/home/wwwroot/cloud.yourdomain.com/config/config.php\")]),a._v(\" 文件，加上\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-php line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-php\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token string single-quoted-string\"}},[a._v(\"'memcache.local'\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=>\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string single-quoted-string\"}},[a._v(\"'\\\\OC\\\\Memcache\\\\APCu'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\")])]),s(\"h2\",{attrs:{id:\"问题四\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题四\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"问题四：\")])]),a._v(\" \"),s(\"p\",[s(\"code\",[a._v(\"PHP 的 OPcache 模块未载入。推荐开启获得更好的性能。\")])]),a._v(\" \"),s(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[a._v(\"安装OPcahe\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"cd\")]),a._v(\" /root/lnmp1.5\\n./addons.sh \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"install\")]),a._v(\" opcache\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\")])]),s(\"ol\",{attrs:{start:\"2\"}},[s(\"li\",[a._v(\"配置OPcahe\")])]),a._v(\" \"),s(\"p\",[a._v(\"LNMP1.4后，添加扩展已经不再修改php.ini，而是单独的 \"),s(\"code\",[a._v(\"/usr/local/php/conf.d/004-opcache.ini\")]),a._v(\"，nextcloud推荐配置如下\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token section\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token section-name selector\"}},[a._v(\"Zend Opcache\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")])]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"zend_extension\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v('\"'),s(\"span\",{pre:!0,attrs:{class:\"token inner-value\"}},[a._v(\"opcache.so\")]),a._v('\"')]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.memory_consumption\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"128\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.interned_strings_buffer\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"8\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.max_accelerated_files\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"10000\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.revalidate_freq\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"1\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.fast_shutdown\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"1\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.enable_cli\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"1\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.save_comments\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"1\")]),a._v(\"\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),s(\"br\")])]),s(\"h2\",{attrs:{id:\"问题五\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题五\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"问题五：\")])]),a._v(\" \"),s(\"p\",[s(\"code\",[a._v(\"该实例缺失了一些推荐的PHP模块。为提高性能和兼容性，我们强烈建议安装它们。imagick\")])]),a._v(\" \"),s(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),s(\"ol\",[s(\"li\",[a._v(\"安装ImageMagick\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[a._v(\"yum \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"install\")]),a._v(\" ImageMagick-devel\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"cd\")]),a._v(\" /root/lnmp1.5\\n./addons.sh \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"install\")]),a._v(\" imageMagick\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),s(\"br\")])]),s(\"ol\",{attrs:{start:\"2\"}},[s(\"li\",[a._v(\"修改 \"),s(\"code\",[a._v(\"/usr/local/php/etc/php.ini\")]),a._v(\"，第一行加上：\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"extension\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v('\"'),s(\"span\",{pre:!0,attrs:{class:\"token inner-value\"}},[a._v(\"imagick.so\")]),a._v('\"')]),a._v(\"\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\")])]),s(\"h2\",{attrs:{id:\"问题六\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题六\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"问题六：\")])]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-problem-occ-db-convert-filecache-bigint.png\",alt:\"nextcloud-problem-occ db:convert-filecache-bigint\"}})]),a._v(\" \"),s(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"cd\")]),a._v(\" /home/wwwroot/cloud.yourdomain.com/\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"sudo\")]),a._v(\" -u www php occ db:convert-filecache-bigint\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\"),s(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),s(\"br\")])]),s(\"p\",[a._v(\"其中\"),s(\"code\",[a._v(\"www是网站用户名\")]),a._v(\"，视情况而定，\"),s(\"code\",[a._v(\"ls -l\")]),a._v(\" 可以查看用户名和用户组\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"问题七\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题七\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"问题七：\")])]),a._v(\" \"),s(\"p\",[s(\"code\",[a._v(\"PHP内存限制低于建议值512MB.\")])]),a._v(\" \"),s(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),s(\"p\",[a._v(\"编辑 \"),s(\"code\",[a._v(\"/usr/local/php/etc/php.ini\")]),a._v(\"，将memory_limit改为512M\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"memory_limit\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"512M\")]),a._v(\"\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\")])]),s(\"h2\",{attrs:{id:\"问题八\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题八\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"问题八：\")])]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-problem-add-http-header.png\",alt:\"nextcloud-problem-add-http-header\"}})]),a._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-problem-add-http-header-no-referrer.png\",alt:\"extcloud-problem-add-http-header-no-referrer\"}})]),a._v(\" \"),s(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),s(\"p\",[a._v(\"这五个header的问题是由重复配置造成的，在 \"),s(\"code\",[a._v(\"/usr/local/nginx/conf/vhost/cloud.yourdomain.conf\")]),a._v(\" 中把这些注释掉即可。\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"问题九\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题九\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"问题九：\")])]),a._v(\" \"),s(\"p\",[s(\"code\",[a._v('HTTP的请求头 \"Strict-Transport-Security\" 未设置为至少 \"15552000\" 秒. 为了提高安全性，建议参照security tips ↗中的说明启用HSTS.')])]),a._v(\" \"),s(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),s(\"p\",[a._v(\"在 \"),s(\"code\",[a._v(\"/usr/local/nginx/conf/vhost/www.cloud.yourdomain.conf\")]),a._v(\" 中添加以下代码\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[s(\"code\",[a._v(\"add_header Strict-Transport-Security \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"max-age=15768000;preload;\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\")])]),a._v(\" \"),s(\"div\",{staticClass:\"line-numbers-wrapper\"},[s(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),s(\"br\")])]),s(\"h2\",{attrs:{id:\"问题十\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题十\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"问题十：\")])]),a._v(\" \"),s(\"p\",[s(\"code\",[a._v(\"一些文件没有通过完整性检查。了解如何解决该问题请查看我们的 文档。(无效文件列表… / 重新扫描…)\")])]),a._v(\" \"),s(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),s(\"p\",[a._v(\"暂时没有解决\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"参考资料\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考资料\"}},[a._v(\"#\")]),a._v(\" \"),s(\"strong\",[a._v(\"参考资料：\")])]),a._v(\" \"),s(\"ul\",[s(\"li\",[a._v(\"LNMP一键环境安装Fileinfo扩展组件支持的办法：\"),s(\"a\",{attrs:{href:\"http://www.laozuo.org/11801.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"http://www.laozuo.org/11801.html\"),s(\"OutboundLink\")],1)]),a._v(\" \"),s(\"li\",[a._v(\"最新 LNMP1.5 搭建 NEXTCLOUD 私有云盘并配置 aria2c 下载：\"),s(\"a\",{attrs:{href:\"https://yalv.me/lnmp-nextcloud-aria2c/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"https://yalv.me/lnmp-nextcloud-aria2c/\"),s(\"OutboundLink\")],1)]),a._v(\" \"),s(\"li\",[a._v(\"centos安装php扩展 imagick 报错：\"),s(\"a\",{attrs:{href:\"https://www.shiqidu.com/d/367\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"https://www.shiqidu.com/d/367\"),s(\"OutboundLink\")],1)]),a._v(\" \"),s(\"li\",[a._v(\"nextcloud官方文档：\"),s(\"a\",{attrs:{href:\"https://docs.nextcloud.com/server/15/admin_manual/configuration_database/bigint_identifiers.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"https://docs.nextcloud.com/server/15/admin_manual/configuration_database/bigint_identifiers.html\"),s(\"OutboundLink\")],1)]),a._v(\" \"),s(\"li\",[a._v(\"私有云NextCould + Caddy 的快速搭建：\"),s(\"a\",{attrs:{href:\"https://canmipai.com/index.php/2018/06/29/nextcould-caddy-setup/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"https://canmipai.com/index.php/2018/06/29/nextcould-caddy-setup/\"),s(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);","extractedComments":[]}