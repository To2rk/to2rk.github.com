{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{568:function(s,t,a){\"use strict\";a.r(t);var n=a(7),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"blockquote\",[a(\"p\",[s._v(\"frp 提供了一种新的代理类型 xtcp 用于应对在希望传输大量数据且流量不经过服务器的场景\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_0x00-准备\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x00-准备\"}},[s._v(\"#\")]),s._v(\" 0x00 准备\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[s._v(\"安装Linux Deploy将闲置手机打造成个人服务器：\"),a(\"a\",{attrs:{href:\"https://conimi.com/archives/126\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://conimi.com/archives/126\"),a(\"OutboundLink\")],1)])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"Frp项目地址：\"),a(\"a\",{attrs:{href:\"https://github.com/fatedier/frp\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://github.com/fatedier/frp\"),a(\"OutboundLink\")],1)])])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"说明\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#说明\"}},[s._v(\"#\")]),s._v(\" 说明\")]),s._v(\" \"),a(\"p\",[s._v(\"目前xtcp还不是很稳定，当受控端(手机)和控制端(电脑)处于一个内网下时，可能穿透会失败。\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"环境\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#环境\"}},[s._v(\"#\")]),s._v(\" 环境\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"公网服务器：1.2.3.4\")]),s._v(\" \"),a(\"li\",[s._v(\"手机服务器：192.168.1.1（内网1）【开启两个端口登录：22和222】\")]),s._v(\" \"),a(\"li\",[s._v(\"修改ssh默认端口并开启多端口：\"),a(\"a\",{attrs:{href:\"https://conimi.com/archives/114\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://conimi.com/archives/114\"),a(\"OutboundLink\")],1)]),s._v(\" \"),a(\"li\",[s._v(\"控制端(电脑)：192.168.5.6（内网2）\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"实现效果\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#实现效果\"}},[s._v(\"#\")]),s._v(\" 实现效果\")]),s._v(\" \"),a(\"p\",[s._v(\"由于xtcp存在可能穿透失败的情况，为了保证随时能连上手机服务器，保留常规穿透方案（备选），所有两种连接方式。\")]),s._v(\" \"),a(\"ol\",[a(\"li\",[s._v(\"第一种：适用于传输大文件时使用（点对点，流量不经过公网服务器）\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ssh\")]),s._v(\" root@127.0.0.1 -p \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1234\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"2\"}},[a(\"li\",[s._v(\"第二种：常规穿透（备选：xtcp失败时使用）\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ssh\")]),s._v(\" root@1.2.3.4 -p \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1235\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_0x01-公网服务器安装frps\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x01-公网服务器安装frps\"}},[s._v(\"#\")]),s._v(\" 0x01 公网服务器安装frps\")]),s._v(\" \"),a(\"ol\",[a(\"li\",[s._v(\"下载服务器对应版本的frp，并解压\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-zsh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"wget https://github.com/fatedier/frp/releases/download/v0.34.3/frp_0.34.3_linux_amd64.tar.gz\\ntar -zxvf frp_0.34.3_linux_amd64.tar.gz\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"2\"}},[a(\"li\",[s._v(\"配置 \"),a(\"code\",[s._v(\"frps.ini\")]),s._v(\" （关键），我的配置如下\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[common]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"bind_addr\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 0.0.0.0\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"bind_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 7000\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"auth_token\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 123456qwerty\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_file\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" /var/log/frp/frps.log\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_level\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" info\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_max_days\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 3\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"bind_udp_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 7001\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"3\"}},[a(\"li\",[s._v(\"移动\"),a(\"code\",[s._v(\"frps\")]),s._v(\"和\"),a(\"code\",[s._v(\"frps.ini\")]),s._v(\"到指定路径并创建日志存储路径\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-zsh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"cd frp_0.34.3_linux_amd64\\nmv frps /usr/bin/\\nmkdir /etc/frp/\\nmv frps.ini /etc/frp/\\n\\nmkdir /var/log/frp/\\nchown -R nobody:nogroup /var/log/frp/   # 更改用户组，否则没有写入权限\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"4\"}},[a(\"li\",[s._v(\"启动 \"),a(\"code\",[s._v(\"frps\")]),s._v(\" ，检查配置是否正确\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-zsh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"frps -c /etc/frp/frps.ini\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"查看日志 \"),a(\"code\",[s._v(\"/var/log/frp/frps.log\")]),s._v(\" 中显示连接成功就说明配置没有问题\")]),s._v(\" \"),a(\"ol\",{attrs:{start:\"5\"}},[a(\"li\",[s._v(\"实现开机自启\")])]),s._v(\" \"),a(\"p\",[s._v(\"将解压后的文件夹下\"),a(\"code\",[s._v(\"systemd/\")]),s._v(\"目录下的\"),a(\"code\",[s._v(\"frps.service\")]),s._v(\"和\"),a(\"code\",[s._v(\"frps@.service\")]),s._v(\"移动到\"),a(\"code\",[s._v(\"/lib/systemd/system/\")]),s._v(\"目录下\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-zsh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"mv systemd/frps* /lib/systemd/system/\\nsystemctl enable frps\\nsystemctl start frps\\nsystemctl status frps\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"6\"}},[a(\"li\",[s._v(\"删除解压包和下载的文件\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-zsh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"cd ../\\nrm -rf frp_0.34.3_linux_amd64*\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_0x02-受控端-手机服务器-安装frpc\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x02-受控端-手机服务器-安装frpc\"}},[s._v(\"#\")]),s._v(\" 0x02 受控端（手机服务器）安装frpc\")]),s._v(\" \"),a(\"ol\",[a(\"li\",[s._v(\"下载手机对应版本的frp(手机版本选择 \"),a(\"code\",[s._v(\"linux_arm64\")]),s._v(\")，并解压\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-zsh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"wget https://github.com/fatedier/frp/releases/download/v0.34.3/frp_0.34.3_linux_arm64.tar.gz\\ntar -zxvf frp_0.34.3_linux_arm64.tar.gz\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"2\"}},[a(\"li\",[s._v(\"配置 \"),a(\"code\",[s._v(\"frpc.ini\")]),s._v(\" （关键），我的配置如下\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[common]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"server_addr\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 1.2.3.4\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"server_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 7000\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"auth_token\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 123456qwerty\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_file\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" /var/log/frp/frpc.log\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_level\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" info\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_max_days\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 3\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"login_fail_exit\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" false\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[ssh_server]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"type\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" xtcp\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"role\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" server\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"sk\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" abcdefg\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"local_ip\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 127.0.0.1\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"local_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 22\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[ssh]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"type\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" tcp\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"local_ip\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 127.0.0.1\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"local_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 222\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"remote_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 1235\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"3\"}},[a(\"li\",[s._v(\"移动\"),a(\"code\",[s._v(\"frpc\")]),s._v(\"和\"),a(\"code\",[s._v(\"frpc.ini\")]),s._v(\"到指定路径并创建日志存储路径\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-zsh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"cd frp_0.34.3_linux_arm64\\nmv frpc /usr/bin/\\nmkdir /etc/frp/\\nmv frpc.ini /etc/frp/\\n\\nmkdir /var/log/frp/\\nchown -R nobody:nogroup /var/log/frp/   # 更改用户组，否则没有写入权限\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"4\"}},[a(\"li\",[s._v(\"启动 \"),a(\"code\",[s._v(\"frps\")]),s._v(\" ，检查配置是否正确\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-zsh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"frpc -c /etc/frp/frpc.ini\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"查看日志 \"),a(\"code\",[s._v(\"/var/log/frp/frpc.log\")]),s._v(\" 中显示连接成功就说明配置没有问题\")]),s._v(\" \"),a(\"ol\",{attrs:{start:\"5\"}},[a(\"li\",[s._v(\"实现开机自启\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"由于Linux系统是运行在容器里的，没法用 “systemctl”\")])]),s._v(\" \"),a(\"ol\",[a(\"li\",[a(\"p\",[s._v(\"在Linux Deploy设置中启用 \"),a(\"code\",[s._v(\"初始化\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"初始化系统为 \"),a(\"code\",[s._v(\"run-parts\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"初始化路径 \"),a(\"code\",[s._v(\"/etc/rc.local\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"编辑或新建\"),a(\"code\",[s._v(\"/etc/rc.local\")]),s._v(\"文件\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"touch\")]),s._v(\" /etc/rc.local\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" +x /etc/rc.local\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/rc.local\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])]),a(\"ul\",[a(\"li\",[s._v(\"其中rc.local的内容为\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token shebang important\"}},[s._v(\"#!/bin/sh -e\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"nohup\")]),s._v(\" frpc -c /etc/frp/frpc.ini \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\"/dev/null \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a(\"span\",{pre:!0,attrs:{class:\"token file-descriptor important\"}},[s._v(\"2\")]),s._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token file-descriptor important\"}},[s._v(\"&1\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exit\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"6\"}},[a(\"li\",[s._v(\"删除解压包和下载的文件\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-zsh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"cd ../\\nrm -rf frp_0.34.3_linux_arm64*\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_0x03-控制端-电脑-安装frpc\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x03-控制端-电脑-安装frpc\"}},[s._v(\"#\")]),s._v(\" 0x03 控制端（电脑）安装frpc\")]),s._v(\" \"),a(\"ol\",[a(\"li\",[s._v(\"Windows选择 \"),a(\"code\",[s._v(\"windows_amd64\")]),s._v(\" 版本\")]),s._v(\" \"),a(\"li\",[s._v(\"将下载后的文件解压,仅保留 \"),a(\"code\",[s._v(\"frpc\")]),s._v(\" 和 \"),a(\"code\",[s._v(\"frpc.ini\")]),s._v(\"两个文件，其余删除\")]),s._v(\" \"),a(\"li\",[s._v(\"配置 \"),a(\"code\",[s._v(\"frpc.ini\")]),s._v(\" （关键），我的配置如下\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[common]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"server_addr\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 1.2.3.4\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"server_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 7000\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"auth_token\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 123456qwerty\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_file\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" frpc.log\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_level\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" info\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[ssh_visitor]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"type\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" xtcp\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"server_name\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" ssh_server\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"role\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" visitor\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"sk\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" abcdefg\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"bind_addr\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 127.0.0.1\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"bind_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 1234\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"4\"}},[a(\"li\",[s._v(\"启动 \"),a(\"code\",[s._v(\"frpc\")]),s._v(\" cmd命令：\"),a(\"code\",[s._v(\"frpc.exe -c frpc.ini\")])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_0x04-参考资料\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x04-参考资料\"}},[s._v(\"#\")]),s._v(\" 0x04 参考资料\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"LinuxDeploy里的Ubuntu自启动nginx（适用于其他软件）：\"),a(\"a\",{attrs:{href:\"https://www.cnblogs.com/Luad/p/10409048.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://www.cnblogs.com/Luad/p/10409048.html\"),a(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}