{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{639:function(s,t,a){\"use strict\";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h2\",{attrs:{id:\"_0x00-准备工作\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x00-准备工作\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"0x00 准备工作\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"LNMP环境\")]),s._v(\" \"),a(\"li\",[s._v(\"已经安装好Aria2并能够正常访问，Aria2安装过程：\"),a(\"a\",{attrs:{href:\"https://conimi.com/archives/85\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://conimi.com/archives/85\"),a(\"OutboundLink\")],1)]),s._v(\" \"),a(\"li\",[s._v(\"单端口多域名，80端口访问http，443端口访问https\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_0x01-frp安装及配置\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x01-frp安装及配置\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"0x01 frp安装及配置\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"frp官网地址：\"),a(\"a\",{attrs:{href:\"https://github.com/fatedier/frp/releases\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://github.com/fatedier/frp/releases\"),a(\"OutboundLink\")],1)]),s._v(\" \"),a(\"li\",[s._v(\"服务器上不需要安装LNMP环境\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"服务器安装frps及配置\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#服务器安装frps及配置\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"服务器安装frps及配置\")])]),s._v(\" \"),a(\"p\",[s._v(\"我的安装路径\"),a(\"code\",[s._v(\"/opt/frps/\")]),s._v(\"以下是我的两个frps的配置，需要运行两个frps进程，一个用来转发\"),a(\"code\",[s._v(\"80端口\")]),s._v(\"，另一个用来转发\"),a(\"code\",[s._v(\"aria2 RPC 地址端口\")]),s._v(\"，端口可自定义，我的为\"),a(\"code\",[s._v(\"6800\")])]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"frps_6800\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[common]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"bind_addr\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 0.0.0.0\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"bind_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 7001\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"auth_token\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 1234567\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"vhost_https_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 6800\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_file\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" /opt/frps/frps_6800/frps.log\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_level\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" info\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\")])]),a(\"p\",[a(\"strong\",[s._v(\"frps_80\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[common]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"bind_addr\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 0.0.0.0\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"bind_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 7000\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"auth_token\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 1234567\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"vhost_https_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 80\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"vhost_https_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 443\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_file\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" /opt/frpc/frpc_80/frpc.log\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_level\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" info\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])]),a(\"h3\",{attrs:{id:\"_2-本地安装frpc\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-本地安装frpc\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"2. 本地安装frpc\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"由于我是在树莓派上安装的，因此frpc选择的是ARM版本，根据相应环境选择相对应版本。\")])]),s._v(\" \"),a(\"p\",[s._v(\"我的安装路径\"),a(\"code\",[s._v(\"/opt/frpc/\")]),s._v(\",以下是我的两个frpc的配置\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"frpc_6800\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[common]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"server_addr\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 136.45.16.84\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"server_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 7001\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"auth_token\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 1234567\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_file\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" /opt/frpc/frpc_6800/frpc.log\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_level\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" info\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[web]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"type\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" http\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"local_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 6800\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"custom_domains\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" aria2.conimi.com\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"host_header_rewrite\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" aria2.conimi.com\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])]),a(\"p\",[a(\"strong\",[s._v(\"frpc_80\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[common]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"server_addr\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 136.45.16.84\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"server_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 7000\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"auth_token\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 1234567\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_file\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" /opt/frpc/frpc_80/frpc.log\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"log_level\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" info\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"[web]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"type\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" http\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"local_port\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" 80\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"custom_domains\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" aria2.conimi.com\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[s._v(\"host_header_rewrite\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"=\")]),s._v(\" aria2.conimi.com\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])]),a(\"p\",[s._v(\"注意：\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"由于本地多个域名共用一个80端口，nginx通过http 请求中的 host 字段来确定是哪个网站，因此需要加上\"),a(\"code\",[s._v(\"host_header_rewrite\")]),s._v(\"，而 \"),a(\"code\",[s._v(\"custom_domains\")]),s._v(\"是必须的。\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_0x02-frp自启动\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x02-frp自启动\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"0x02 frp自启动\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"frps实现开机自启\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#frps实现开机自启\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"frps实现开机自启\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /etc/init.d\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"touch\")]),s._v(\" frps \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" +x frps\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" frps\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])]),a(\"p\",[s._v(\"其中\"),a(\"code\",[s._v(\"frps\")]),s._v(\"的内容为\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token shebang important\"}},[s._v(\"#!/bin/sh\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"### BEGIN INIT INFO\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Provides: frps\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Required-Start: $network $remote_fs $local_fs\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Required-Stop: $network $remote_fs $local_fs\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Default-Start: 2 3 4 5\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Default-Stop: 0 1 6\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Short-Description: frps\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Description: frp\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"### END INIT INFO\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"nohup\")]),s._v(\" /opt/frps/frps_6800/./frps -c /opt/frps/frps_6800/./frps.ini \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\"/dev/null \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a(\"span\",{pre:!0,attrs:{class:\"token file-descriptor important\"}},[s._v(\"2\")]),s._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token file-descriptor important\"}},[s._v(\"&1\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"nohup\")]),s._v(\" /opt/frps/frps_80/./frps -c /opt/frps/frps_80/./frps.ini \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\"/dev/null \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a(\"span\",{pre:!0,attrs:{class:\"token file-descriptor important\"}},[s._v(\"2\")]),s._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token file-descriptor important\"}},[s._v(\"&1\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exit\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\")])]),a(\"p\",[s._v(\"保存并设置为开机自启\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[s._v(\"update-rc.d frps defaults\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"h3\",{attrs:{id:\"frpc实现开机自启\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#frpc实现开机自启\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"frpc实现开机自启\")])]),s._v(\" \"),a(\"p\",[s._v(\"由于需要启动两个frpc进程，在利用\"),a(\"code\",[s._v(\"Systemd Service\")]),s._v(\"实现开机自启的过程中，由于[Service] 部分\"),a(\"code\",[s._v(\"Type为simple时\")]),s._v(\"，\\n\"),a(\"code\",[s._v(\"ExecStart\")]),s._v(\"后面只能跟一条命令，因此需要把启动两个frpc的命令封装成一条命令，使用shell脚本完成\")]),s._v(\" \"),a(\"p\",[s._v(\"在\"),a(\"code\",[s._v(\"/opt/frpc/\")]),s._v(\"目录下新建一个\"),a(\"code\",[s._v(\"frpc.sh\")]),s._v(\"，并赋予执行权限\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /opt/frpc/\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"touch\")]),s._v(\" frpc.sh \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" +x frpc.sh\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" frpc.sh\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])]),a(\"p\",[s._v(\"其中frpc.sh的内容为\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token shebang important\"}},[s._v(\"#!/bin/bash\")]),s._v(\"\\n\\n/opt/frpc/frpc_80/./frpc -c /opt/frpc/frpc_80/./frpc.ini \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&\")]),s._v(\"\\n\\n/opt/frpc/frpc_1638/./frpc -c /opt/frpc/frpc_1638/./frpc.ini\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\")])]),a(\"p\",[s._v(\"然后在\"),a(\"code\",[s._v(\"/usr/lib/systemd/system/\")]),s._v(\"创建\"),a(\"code\",[s._v(\"frpc.service\")]),s._v(\",如果没有\"),a(\"code\",[s._v(\"system\")]),s._v(\"文件夹，创建一个即可\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /usr/lib/systemd/system/\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"touch\")]),s._v(\" frpc.service\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" frpc.service\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])]),a(\"p\",[s._v(\"其中\"),a(\"code\",[s._v(\"frpc.service\")]),s._v(\"的内容为\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"Unit\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Description\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"frpc\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"After\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"network.target\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"Service\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Type\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"simple\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ExecStartPre\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/bin/sleep \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"6\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ExecStart\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/opt/frpc/./frpc.sh\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ExecStop\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/bin/kill \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$MAINPID\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"Install\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"WantedBy\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"multi-user.target\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])]),a(\"p\",[s._v(\"保存并设置为开机自启\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[s._v(\"systemctl \"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"enable\")]),s._v(\" frpc.service\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_0x03-参考资料\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x03-参考资料\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"0x03 参考资料\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"借助 frp 随时随地访问自己的树莓派：\"),a(\"a\",{attrs:{href:\"https://segmentfault.com/a/1190000012004693\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://segmentfault.com/a/1190000012004693\"),a(\"OutboundLink\")],1)]),s._v(\" \"),a(\"li\",[s._v(\"设置树莓派中frp客户端开机自启：\"),a(\"a\",{attrs:{href:\"https://www.mspace.tech/web/1163/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://www.mspace.tech/web/1163/\"),a(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);","extractedComments":[]}