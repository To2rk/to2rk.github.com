{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{448:function(s,a,t){\"use strict\";t.r(a);var e=t(3),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"blockquote\",[a(\"p\",[s._v(\"声明：本教程仅用于交流学习，请勿用作它用途。\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"安装ss5\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装ss5\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"安装SS5\")])]),s._v(\" \"),a(\"ol\",[a(\"li\",[s._v(\"安装ss5所需依赖包\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[s._v(\"yum \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" gcc openldap-devel pam-devel openssl-devel\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"2\"}},[a(\"li\",[s._v(\"下载安装包并解压\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" http://jaist.dl.sourceforge.net/project/ss5/ss5/3.8.9-8/ss5-3.8.9-8.tar.gz\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tar\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[s._v(\"-zxvf\")]),s._v(\" ss5-3.8.9-8.tar.gz\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"p\",[s._v(\"本地备份：\"),a(\"a\",{attrs:{href:\"https://conimi.com/softs/Linux/ss5/ss5-3.8.9-8.tar.gz\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://conimi.com/softs/Linux/ss5/ss5-3.8.9-8.tar.gz\"),a(\"OutboundLink\")],1)]),s._v(\" \"),a(\"ol\",{attrs:{start:\"3\"}},[a(\"li\",[s._v(\"配置并安装\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" ss5-3.8.9/ \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" ./configure\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\"  \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"4\"}},[a(\"li\",[s._v(\"修改\"),a(\"code\",[s._v(\"ss5.conf\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/opt/ss5/ss5.conf\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"将\"),a(\"code\",[s._v(\"/etc/opt/ss5/ss5.conf\")]),s._v(\"中的 \"),a(\"code\",[s._v(\"auth段\")]),s._v(\" 和 \"),a(\"code\",[s._v(\"permit段\")]),s._v(\" 改为：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[s._v(\"auth段\\n\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#      SHost           SPort           Authentication\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#\")]),s._v(\"\\n    auth    \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0.0\")]),s._v(\".0.0/0               -               u\\n\\npermit段\\n\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#      Auth     SHost           SPort   DHost           DPort   Fixup   Group   Band    ExpDate\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#\")]),s._v(\"\\n    permit u       \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0.0\")]),s._v(\".0.0/0       -       \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0.0\")]),s._v(\".0.0/0       -       -       -       -       -\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\")])]),a(\"p\",[s._v(\"5.添加用户和密码\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/opt/ss5/ss5.passwd\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"编辑 \"),a(\"code\",[s._v(\"/etc/opt/ss5/ss5.passwd\")]),s._v(\" ，\\n一行一个账号，用户名和密码之间用空格间隔\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[s._v(\"user1 \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"12345678\")]),s._v(\"\\nuser2 \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"123456\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"p\",[s._v(\"6.更改端口\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/sysconfig/ss5\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"编辑\"),a(\"code\",[s._v(\"/etc/sysconfig/ss5\")]),s._v(\"，添加一行，-b后面的参数代表监听的ip地址和端口号,-u 后面的参数表示本地计算机以哪个账户连接\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Add startup option here\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"SS5_OPTS\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\" -u root -b 0.0.0.0:2333\"')]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"p\",[s._v(\"7.添加权限并开机自启\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" +x /etc/init.d/ss5\\nsystemctl \"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"enable\")]),s._v(\" ss5\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"可能出现的问题\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#可能出现的问题\"}},[s._v(\"#\")]),s._v(\" \"),a(\"strong\",[s._v(\"可能出现的问题\")])]),s._v(\" \"),a(\"p\",[s._v(\"1.使用命令s\"),a(\"code\",[s._v(\"systemctl status ss5 -l\")]),s._v(\" 出现以下错误，先创建 /var/run/ss5 目录后再启动 ss5\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[s._v(\"Can’t create pid \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"file\")]),s._v(\" /var/run/ss5/ss5.pid\\nCan’t unlink pid \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"file\")]),s._v(\" /var/run/ss5/ss5.pid\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"p\",[s._v(\"由于每次重启后\"),a(\"code\",[s._v(\"/var/run/ss5/\")]),s._v(\"文件夹都会被删除，所以需要修改\"),a(\"code\",[s._v(\"/etc/init.d/ss5\")]),s._v(\"，在\"),a(\"code\",[s._v(\"start\")]),s._v(\"段加上一句 \"),a(\"code\",[s._v(\"mkdir /var/run/ss5/\")]),s._v(\",将\"),a(\"code\",[s._v(\"stop\")]),s._v(\"段的\"),a(\"code\",[s._v(\"rm -f /var/run/ss5/ss5.pid\")]),s._v(\"改为\"),a(\"code\",[s._v(\"rm -rf /var/run/ss5/\")])]),s._v(\" \"),a(\"p\",[s._v(\"2.如果仍然无法连接\")]),s._v(\" \"),a(\"p\",[s._v(\"检查防火墙设置\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[s._v(\"systemctl status iptables\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"如果防火墙处于开启状态，放行端口，例如2333，编辑\"),a(\"code\",[s._v(\"/etc/sysconfig/iptables\")]),s._v(\"，加上一句\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/sysconfig/iptables\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[s._v(\"-A\")]),s._v(\" INPUT \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[s._v(\"-p\")]),s._v(\" tcp \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[s._v(\"-m\")]),s._v(\" state \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[s._v(\"--state\")]),s._v(\" NEW \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[s._v(\"-m\")]),s._v(\" tcp \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[s._v(\"--dport\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2333\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[s._v(\"-j\")]),s._v(\" ACCEPT\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"p\",[s._v(\"重启防火墙\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" iptables restart\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"注意：\"),a(\"code\",[s._v(\"仅支持CentOS，Debian下编译会报错\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"参考资料\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考资料\"}},[s._v(\"#\")]),s._v(\" 参考资料\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"安装 SS5 SOCKS5 代理服务器，多进程/多IP地址出口/多端口：\"),a(\"a\",{attrs:{href:\"http://www.huangzhong.ca/zh/ss5-multiple-instances-ips-centos/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"http://www.huangzhong.ca/zh/ss5-multiple-instances-ips-centos/\"),a(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);","extractedComments":[]}