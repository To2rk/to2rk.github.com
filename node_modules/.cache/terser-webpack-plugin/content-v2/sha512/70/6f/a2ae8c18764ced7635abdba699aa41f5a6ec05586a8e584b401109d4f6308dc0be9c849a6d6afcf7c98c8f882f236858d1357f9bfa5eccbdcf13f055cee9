{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{468:function(s,a,t){\"use strict\";t.r(a);var e=t(3),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"blockquote\",[a(\"p\",[s._v(\"登录账户：普通用户\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_0x00-生成ssh私钥和公钥\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x00-生成ssh私钥和公钥\"}},[s._v(\"#\")]),s._v(\" 0x00 生成SSH私钥和公钥\")]),s._v(\" \"),a(\"p\",[s._v(\"在服务器上生成一对密钥\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# -t 表示密钥类型是 rsa\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 在当前 .ssh 目录下生成名为id_rsa的私钥文件和名为id_rsa.pub的公钥文件\")]),s._v(\"\\n\\nssh-keygen -t rsa\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_0x01-服务器配置\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x01-服务器配置\"}},[s._v(\"#\")]),s._v(\" 0x01 服务器配置\")]),s._v(\" \"),a(\"ol\",[a(\"li\",[s._v(\"将公钥内容追加写入到 \"),a(\"code\",[s._v(\"authorized_keys\")])])]),s._v(\" \"),a(\"p\",[s._v(\"没有 \"),a(\"code\",[s._v(\"authorized_keys\")]),s._v(\" 文件就在 \"),a(\"code\",[s._v(\"~/.ssh/\")]),s._v(\" 目录下新建一个~\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#touch ~/.ssh/authorized_keys\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"cat\")]),s._v(\" ~/.ssh/id_rsa.pub \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">>\")]),s._v(\" ~/.ssh/authorized_keys\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"2\"}},[a(\"li\",[s._v(\"配置权限\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"将authorized_keys目录的权限为600\")]),s._v(\" \"),a(\"li\",[s._v(\"将.ssh目录的权限为700\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"600\")]),s._v(\" ~/.ssh/authorized_keys\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"700\")]),s._v(\" ~/.ssh\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"3\"}},[a(\"li\",[s._v(\"sshd_config配置\")])]),s._v(\" \"),a(\"p\",[s._v(\"编辑 \"),a(\"code\",[s._v(\"/etc/ssh/sshd_config\")]),s._v(\" 文件，\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/ssh/sshd_config\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"进行如下配置，一定要注意路径：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-conf line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"PubkeyAuthentication yes\\n\\nAuthorizedKeysFile\\t~/.ssh/authorized_keys\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])]),a(\"p\",[s._v(\"**注意：**如果没有sshd_config文件，需要安装ssh服务\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ssh\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"4\"}},[a(\"li\",[s._v(\"重启SSH服务\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" systemctl start \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ssh\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 开机自启\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" systemctl \"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"enable\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ssh\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])]),a(\"ol\",{attrs:{start:\"5\"}},[a(\"li\",[s._v(\"在确定能够用私钥登录的情况下，禁用密码登录\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/ssh/sshd_config\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"p\",[s._v(\"配置如下：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-conf line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"PasswordAuthentication no\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_0x02-下载私钥到登录客户端\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x02-下载私钥到登录客户端\"}},[s._v(\"#\")]),s._v(\" 0x02 下载私钥到登录客户端\")]),s._v(\" \"),a(\"p\",[s._v(\"将生成的私钥 ``id_rsa` 下载到本地，\")]),s._v(\" \"),a(\"ol\",[a(\"li\",[s._v(\"如果使用 Xshell 连接，登录的时候选择 \"),a(\"code\",[s._v(\"Public Key\")]),s._v(\"，再选择私钥所在的路径\")])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/ssh-xshell-id_rsa.png\",alt:\"ssh-xshell-id_rsa\"}})]),s._v(\" \"),a(\"ol\",{attrs:{start:\"2\"}},[a(\"li\",[s._v(\"使用命令行或者shell登录，编辑 \"),a(\"code\",[s._v(\"~/.ssh/config\")]),s._v(\"（Windows在 \"),a(\"code\",[s._v(\"C:\\\\Users\\\\<username>\\\\.ssh\\\\config\")]),s._v(\"）\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-conf line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"Host name\\n  Hostname ip\\n  User username\\n  IdentityFile ~/.ssh/id_rsa\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])]),a(\"p\",[s._v(\"然后使用以下命令就可以登录：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ssh\")]),s._v(\" name\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_0x03-参考资料\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x03-参考资料\"}},[s._v(\"#\")]),s._v(\" 0x03 参考资料\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"SSH 免密登录是怎么玩儿的?：\"),a(\"a\",{attrs:{href:\"https://zhuanlan.zhihu.com/p/28423720\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://zhuanlan.zhihu.com/p/28423720\"),a(\"OutboundLink\")],1)]),s._v(\" \"),a(\"li\",[s._v(\"windows通过ssh免密登录Linux方法：\"),a(\"a\",{attrs:{href:\"https://www.jianshu.com/p/8a7f8cf7e212\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://www.jianshu.com/p/8a7f8cf7e212\"),a(\"OutboundLink\")],1)]),s._v(\" \"),a(\"li\",[s._v(\"如何在Linux中将文本内容追加到文件末尾？：\"),a(\"a\",{attrs:{href:\"https://cloud.tencent.com/developer/article/1595292\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://cloud.tencent.com/developer/article/1595292\"),a(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);","extractedComments":[]}